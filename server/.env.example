# ============================================
# MSIA 服务端环境变量配置模板
# 复制此文件为 .env 并填写真实值
# ============================================

# 服务器端口
PORT=4000

# 数据库连接URL (PostgreSQL)
# 格式: postgresql://用户名:密码@主机:端口/数据库名?schema=public
DATABASE_URL="postgresql://postgres:你的密码@localhost:5432/MSIA?schema=public"

# 数据库详细配置
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=你的密码
DB_NAME=MSIA
DB_POOL_MAX=20
DB_POOL_MIN=5
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=10000

# ============================================
# 可选配置
# ============================================

# 运行环境 (development/production)
NODE_ENV=development

# 允许的前端跨域来源 (逗号分隔)
ALLOWED_ORIGINS=http://localhost:8000,http://localhost:8100

# 操作员认证令牌 (用于API访问控制)
# 方式1: 单个令牌
OPERATOR_TOKEN=your_secure_random_token_here

# 方式2: 多个令牌 (JSON格式，优先级高于方式1)
# OPERATOR_TOKENS_JSON=[{"token":"token1","operatorId":1,"role":"admin"},{"token":"token2","operatorId":2,"role":"doctor"}]

# 文件上传配置
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads
KNOWLEDGE_BASE_DIR=./knowledge_base

# 会话级联删除配置 (JSON格式，指定关联表)
# SESSION_CASCADE_TABLES_JSON=["related_table1","related_table2"]

# NLP配置 (如需集成AI功能)
# NLP_MODEL=gpt-3.5-turbo
# NLP_MAX_TOKENS=2000
# NLP_TEMPERATURE=0.7
# NLP_TIMEOUT=30000

# 缓存配置
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# 日志配置
LOG_LEVEL=info
LOG_FORMAT=json
LOG_MAX_FILES=30
